!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@inertiajs/inertia"),require("react")):"function"==typeof define&&define.amd?define(["exports","@inertiajs/inertia","react"],n):n((e=e||self).InertiaReact={},e.Inertia,e.React)}(this,function(e,n,r){function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var o=r.createContext();function a(e){var a=e.children,i=e.initialPage,u=e.resolveComponent,c=e.resolveErrors,s=e.transformProps,l=r.useState({component:null,page:{},key:null}),f=l[0],p=l[1];if(r.useEffect(function(){n.Inertia.init({initialPage:i,resolveComponent:u,resolveErrors:c,transformProps:s,swapComponent:function(e){var n=e.component,r=e.page,t=e.preserveState;try{return p(function(e){return{component:n,page:r,key:t?e.key:Date.now()}}),Promise.resolve()}catch(e){return Promise.reject(e)}}})},[]),!f.component)return r.createElement(o.Provider,{value:f.page},null);var d=a||function(e){var n=e.Component,o=r.createElement(n,t({key:e.key},e.props));return"function"==typeof n.layout?n.layout(o):Array.isArray(n.layout)?n.layout.concat(o).reverse().reduce(function(e,n){return r.createElement(n,{children:e})}):o};return r.createElement(o.Provider,{value:f.page},d({Component:f.component,key:f.key,props:f.page.props}))}o.displayName="InertiaPageContext",a.displayName="Inertia";var i=function(){},u=r.forwardRef(function(e,o){var a=e.children,u=e.as,c=void 0===u?"a":u,s=e.data,l=void 0===s?{}:s,f=e.href,p=e.method,d=void 0===p?"get":p,v=e.preserveScroll,m=void 0!==v&&v,h=e.preserveState,g=void 0===h?null:h,y=e.replace,S=void 0!==y&&y,k=e.only,C=void 0===k?[]:k,b=e.headers,P=void 0===b?{}:b,E=e.onClick,I=void 0===E?i:E,w=e.onCancelToken,T=void 0===w?i:w,j=e.onBefore,O=void 0===j?i:j,R=e.onStart,x=void 0===R?i:R,F=e.onProgress,L=void 0===F?i:F,B=e.onFinish,A=void 0===B?i:B,D=e.onCancel,N=void 0===D?i:D,U=e.onSuccess,q=void 0===U?i:U,H=e.onError,Q=void 0===H?i:H,W=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n.indexOf(r=a[t])>=0||(o[r]=e[r]);return o}(e,["children","as","data","href","method","preserveScroll","preserveState","replace","only","headers","onClick","onCancelToken","onBefore","onStart","onProgress","onFinish","onCancel","onSuccess","onError"]),z=r.useCallback(function(e){I(e),n.shouldIntercept(e)&&(e.preventDefault(),n.Inertia.visit(f,{data:l,method:d,preserveScroll:m,preserveState:null!=g?g:"get"!==d,replace:S,only:C,headers:P,onCancelToken:T,onBefore:O,onStart:x,onProgress:L,onFinish:A,onCancel:N,onSuccess:q,onError:Q}))},[l,f,d,m,g,S,C,P,I,T,O,x,L,A,N,q,Q]);c=c.toLowerCase(),d=d.toLowerCase();var G=n.mergeDataIntoQueryString(d,n.hrefToUrl(f),l);return f=G[0].href,l=G[1],"a"===c&&"get"!==d&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<InertiaLink href="'+f+'" method="'+d+'" as="button">...</InertiaLink>'),r.createElement(c,t({},W,"a"===c?{href:f}:{},{ref:o,onClick:z}),a)});function c(e,t){var o=r.useState(function(){var r=n.Inertia.restore(t);return void 0!==r?r:e}),a=o[0],i=o[1];return r.useEffect(function(){n.Inertia.remember(a,t)},[a,t]),[a,i]}e.App=a,e.InertiaApp=a,e.InertiaLink=u,e.Link=u,e.app=a,e.link=u,e.useForm=function(){var e=[].slice.call(arguments),o="string"==typeof e[0]?e[0]:null,a=("string"==typeof e[0]?e[1]:e[0])||{},i=r.useRef(null),u=r.useRef(null),s=o?c(a,o+":data"):r.useState(a),l=s[0],f=s[1],p=o?c({},o+":errors"):r.useState({}),d=p[0],v=p[1],m=r.useState(!1),h=m[0],g=m[1],y=r.useState(!1),S=y[0],k=y[1],C=r.useState(null),b=C[0],P=C[1],E=r.useState(!1),I=E[0],w=E[1],T=r.useState(!1),j=T[0],O=T[1],R=function(e){return e},x=r.useCallback(function(e,r,o){void 0===o&&(o={});var a=t({},o,{onCancelToken:function(e){if(i.current=e,o.cancelToken)return o.cancelToken(e)},onBefore:function(e){if(w(!1),O(!1),clearTimeout(u.current),o.onBefore)return o.onBefore(e)},onStart:function(e){if(k(!0),o.onStart)return o.onStart(e)},onProgress:function(e){if(P(e),o.onProgress)return o.onProgress(e)},onSuccess:function(e){if(k(!1),P(null),v({}),g(!1),w(!0),O(!0),u.current=setTimeout(function(){return O(!1)},2e3),o.onSuccess)return o.onSuccess(e)},onError:function(e){if(k(!1),P(null),v(e),g(!0),o.onError)return o.onError(e)},onCancel:function(){if(k(!1),P(null),o.onCancel)return o.onCancel()},onFinish:function(){if(i.current=null,o.onFinish)return o.onFinish()}});"delete"===e?n.Inertia.delete(r,t({},a,{data:R(l)})):n.Inertia[e](r,R(l),a)},[l,v]);return{data:l,setData:function(e,n){var r;f("string"==typeof e?t({},l,((r={})[e]=n,r)):"function"==typeof e?function(n){return e(n)}:e)},errors:d,hasErrors:h,processing:S,progress:b,wasSuccessful:I,recentlySuccessful:j,transform:function(e){R=e},reset:function(){var e=[].slice.call(arguments);f(0===e.length?a:Object.keys(a).filter(function(n){return e.includes(n)}).reduce(function(e,n){return e[n]=a[n],e},{}))},clearErrors:function(){var e=[].slice.call(arguments);v(Object.keys(d).reduce(function(n,r){var o;return t({},n,e.length>0&&!e.includes(r)?((o={})[r]=d[r],o):{})},{})),g(Object.keys(d).length>0)},submit:x,get:function(e,n){x("get",e,n)},post:function(e,n){x("post",e,n)},put:function(e,n){x("put",e,n)},patch:function(e,n){x("patch",e,n)},delete:function(e,n){x("delete",e,n)},cancel:function(){i.current&&i.current.cancel()}}},e.usePage=function(){var e=r.useContext(o);if(!e)throw new Error("usePage must be used within the Inertia component");return e},e.useRemember=c,e.useRememberedState=function(e,n){return console.warn('The "useRememberedState" hook has been deprecated and will be removed in a future release. Use "useRemember" instead.'),c(e,n)}});
//# sourceMappingURL=index.umd.js.map
